<!DOCTYPE html>
<html>
<head>
	<title>house</title>
</head>
<body>

<script type="text/javascript">

var container, stats;
var controls;
var camera, scene, renderer;

var gridHelper;


var ground;
var params = { opacity: 0.5 };
</script>
<script type="text/javascript" src="three.js"></script>

<script src="js/Projector.js"></script>
<script src="js/CanvasRenderer.js"></script>

<script src="js/stats.min.js"></script>
<script src="js/FBXLoader.js"></script>
<script src="js/OrbitControls.js"></script>
<script src="js/dat.gui.min.js"></script>

<script src="js/inflate.min.js"></script>
<script src="JimJs/jimDoor.js"></script>


<script type="text/javascript">
init();
animate();


function init() {

	container = document.createElement( 'div' );
	document.body.appendChild( container );

	scene = new THREE.Scene();

	camera = new THREE.PerspectiveCamera( 70, window.innerWidth / window.innerHeight, 1, 1000 );
	camera.position.set(0,20,0);
	camera.rotateX(-Math.PI/2);
	/*
	camera.position.y = 15;
	camera.position.x = 50;
	camera.position.z = 50;
	camera.rotation.x = -0.30;
	*/
	controls = new THREE.OrbitControls( camera );

	//scene.background = new THREE.Color( 0xf0f0f0 );

	startJimDoor();

	gridHelper = new THREE.GridHelper( 100, 22 );
	//scene.add( gridHelper );
	// Cube

	initobj(0.01);
	initobj(0.1);
	initobj(1);


function initobj(s)
{
	scale = s;
makeWall2(-32.37203, 12.324, 1, 19.04171);
makeWall2(-30.09203, 21.414, 5.318408, 1);
makeWall2(-2.482029, -25.316, 2.125031, 1.04175);
makeWall2(6.387972, -23.246, 1, 5.138861);
makeWall2(-27.74203, -6.126001, 16.2399, 1);
makeWall2(-32.19503, -15.976, 1, 19.04171);
makeWall2(-12.98203, 12.004, 1, 19.04171);
makeWall2(-12.96203, -15.976, 1, 19.04171);
makeWall2(-35.37903, -5.247001, 1, 2.722182);
makeWall2(-12.89203, -33.766, 1.3625, 1.452701);
makeWall2(6.347971, -33.766, 1.3625, 1.4527);
makeWall2(5.627972, -25.406, 2.345203, 0.9742169);
makeWall2(-13.39203, -6.116001, 2, 1);
makeWall2(-27.84203, 2.193999, 16.23991, 1);
makeWall2(-13.39203, 2.183999, 1.837685, 0.97422);
makeWall2(-20.68203, -4.296001, 1, 2.98912);
makeWall2(4.887972, 21.494, 4.082932, 1);
makeWall2(-13.89203, -25.316, 7.530567, 1.04175);
makeWall2(-30.22203, -25.316, 5.553797, 1.04175);
makeWall2(-35.42203, 1.343998, 1, 2.657);
makeWall2(-14.64203, 21.414, 6.24913, 1);
makeWall2(-5.022029, 21.424, 2.719612, 1);
makeWall2(6.387972, -1.896001, 1, 17.7933);
makeWall2(6.387972, 19.324, 1, 5.13886);


jimDoor(3.93, -25.39, false, true, false );
jimDoor(-14.84, -6.14, true, true , false );
jimDoor(-14.807, 2.158, false, true , false );
jimDoor(-20.62, 1.1, false, false, false );
jimDoor(-11.1, 21.6, false, true, true );


makeWindows(-35.381, -1.95, 1, 3.862499);
makeWindows(-22.591, 21.39, 9.638683, 1);
makeWindows(-0.4209995, 21.44, 6.506104, 1);
makeWindows(6.389, 11.9, 1, 9.83851);
makeWindows(6.389002, -15.71, 1, 9.83851);
makeWindows(-22.561, -25.33, 9.879647, 1);
makeWindows(-6.821, -25.33, 6.502047, 1);



	
}

/*
	makeLight(-22.571, -15.33, 2);
	makeLight(-22.571, 11.67, 2);
	makeLight(-27.531, -2.039999, 1);
	makeLight(-17.181, -2.039999, 1);
	makeLight(-9.071001, -19.33, 1);
	makeLight(1.928999, -19.33, 1);
	makeLight(-9.071001, -1.33, 1);
	makeLight(1.928999, -1.33, 1);
	makeLight(-9.071001, 16.67, 1);
	makeLight(1.928999, 16.67, 1);
*/
	ground = makeCube(1000,1,700,0,-1,0,new THREE.Color(0x2FC313));
	makeSun();

	renderer = new THREE.WebGLRenderer();
	//renderer = new THREE.CanvasRenderer();

	renderer.shadowMap.enabled = true;
	renderer.shadowMap.type = THREE.PCFSoftShadowMap; // default THREE.PCFShadowMap
	renderer.setPixelRatio( window.devicePixelRatio );
	renderer.setSize( window.innerWidth, window.innerHeight );
	container.appendChild( renderer.domElement );

	stats = new Stats();
	container.appendChild( stats.dom );




spotLight = new THREE.SpotLight( 0xffffff, 1 );
				spotLight.position.set( 15, 40, 35 );
				spotLight.angle = Math.PI / 4;
				spotLight.penumbra = 0.05;
				spotLight.decay = 2;
				spotLight.distance = 200;
				spotLight.castShadow = true;
				spotLight.shadow.mapSize.width = 1024;
				spotLight.shadow.mapSize.height = 1024;
				spotLight.shadow.camera.near = 10;
				spotLight.shadow.camera.far = 200;
				//scene.add( spotLight );
}



function animate() {
	stats.update();
	render();
	requestAnimationFrame( animate );

}

function render() {
	JimUpdate();
	renderer.render( scene, camera );

}

</script>
</body>
</html>