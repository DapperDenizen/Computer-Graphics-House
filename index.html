<!DOCTYPE html>
<html>
<head>
	<title>house</title>
</head>
<body>

<script type="text/javascript">

var container, stats;

var camera, scene, renderer;

var gridHelper;


var ground;
var params = { opacity: 0.5 };
</script>
<script type="text/javascript" src="three.js"></script>

<script src="js/Projector.js"></script>
<script src="js/CanvasRenderer.js"></script>

<script src="js/stats.min.js"></script>
<script src="js/FBXLoader.js"></script>
<script src="js/OrbitControls.js"></script>
<script src="js/dat.gui.min.js"></script>

<script src="js/inflate.min.js"></script>
<script src="JimJs/jimDoor.js"></script>


<script type="text/javascript">
init();
animate();


function init() {

	container = document.createElement( 'div' );
	document.body.appendChild( container );

	camera = new THREE.PerspectiveCamera( 70, window.innerWidth / window.innerHeight, 1, 1000 );
	camera.position.y = 15;
	camera.position.x = 50;
	camera.position.z = 50;
	camera.rotation.x = -0.30;
	var controls = new THREE.OrbitControls( camera );

	scene = new THREE.Scene();
	//scene.background = new THREE.Color( 0xf0f0f0 );

	startJimDoor();

	gridHelper = new THREE.GridHelper( 100, 22 );
	scene.add( gridHelper );
	// Cube


makeWall2(-17.98, 16.7, 1, 19.04171);
makeWall2(-15.7, 25.79, 5.318408, 1);
makeWall2(11.91, -20.94, 2.125031, 1.04175);
makeWall2(20.78, -18.87, 1, 5.138861);
makeWall2(-13.35, -1.75, 16.2399, 1);
makeWall2(-17.803, -11.6, 1, 19.04171);
makeWall2(1.41, 16.38, 1, 19.04171);
makeWall2(1.43, -11.6, 1, 19.04171);
makeWall2(-20.987, -0.871, 1, 2.722182);
makeWall2(1.5, -29.39, 1.3625, 1.452701);
makeWall2(20.74, -29.39, 1.3625, 1.4527);
makeWall2(20.02, -21.03, 2.345203, 0.9742169);
makeWall2(1, -1.74, 2, 1);
makeWall2(-13.45, 6.57, 16.23991, 1);
makeWall2(1, 6.56, 1.837685, 0.97422);
makeWall2(-6.29, 0.08, 1, 2.98912);
makeWall2(19.28, 25.87, 4.082932, 1);
makeWall2(0.5, -20.94, 7.530567, 1.04175);
makeWall2(-15.83, -20.94, 5.553797, 1.04175);
makeWall2(-21.03, 5.72, 1, 2.657);
makeWall2(-0.25, 25.79, 6.24913, 1);
makeWall2(9.37, 25.8, 2.719612, 1);
makeWall2(20.78, 2.48, 1, 17.7933);
makeWall2(20.78, 23.7, 1, 5.13886);

jimDoor(18, -21, false, true, false );
jimDoor(-1, -2,  true, true , false );
jimDoor(-1, 7,  false, true , false );
jimDoor(-6, 5,  false, false, false );
jimDoor(3, 26,  false, true, true  );

makeWindows(-20.98897, 2.426002, 1, 3.862499);
makeWindows(-8.198972, 25.766, 9.638683, 1);
makeWindows(13.97103, 25.816, 6.506104, 1);
makeWindows(20.78103, 16.276, 1, 9.83851);
makeWindows(20.78103, -11.334, 1, 9.83851);
makeWindows(-8.168972, -20.954, 9.879647, 1);
makeWindows(7.571028, -20.954, 6.502047, 1);


ground = makeCube(100,0,70,0,0,0,new THREE.Color(0x2FC313));


makeLight(-8, -11, 1);

makeLight(-8, 16, 1);
makeLight(-13, 2,  0.5);
makeLight(-3, 2,  0.5);
makeLight(5, -15,  0.5);
makeLight(16, -15, 0.5);
makeLight(5, 3, 1);
makeLight(16, 3, 1);
makeLight(5, 21, 1);
makeLight(16, 21, 1);


	makeSun();

	renderer = new THREE.WebGLRenderer();
	//renderer = new THREE.CanvasRenderer();

	renderer.shadowMap.enabled = true;
	renderer.shadowMap.type = THREE.PCFSoftShadowMap; // default THREE.PCFShadowMap
	renderer.setPixelRatio( window.devicePixelRatio );
	renderer.setSize( window.innerWidth, window.innerHeight );
	container.appendChild( renderer.domElement );

	stats = new Stats();
	container.appendChild( stats.dom );




spotLight = new THREE.SpotLight( 0xffffff, 1 );
				spotLight.position.set( 15, 40, 35 );
				spotLight.angle = Math.PI / 4;
				spotLight.penumbra = 0.05;
				spotLight.decay = 2;
				spotLight.distance = 200;
				spotLight.castShadow = true;
				spotLight.shadow.mapSize.width = 1024;
				spotLight.shadow.mapSize.height = 1024;
				spotLight.shadow.camera.near = 10;
				spotLight.shadow.camera.far = 200;
				//scene.add( spotLight );
}



function animate() {
	stats.update();
	render();
	requestAnimationFrame( animate );

}

function render() {
	JimUpdate();
	renderer.render( scene, camera );

}

</script>
</body>
</html>