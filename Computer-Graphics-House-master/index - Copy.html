<!DOCTYPE html>
<html>
<head>
	<title>house</title>
</head>
<body>

<script type="text/javascript" src="three.js"></script>

<script src="js/Projector.js"></script>
<script src="js/CanvasRenderer.js"></script>

<script src="js/stats.min.js"></script>
<script src="js/FBXLoader.js"></script>
<script src="js/OrbitControls.js"></script>


<script src="js/inflate.min.js"></script>
<script src="JimJs/jimDoor.js"></script>


<script type="text/javascript">

var container, stats;

var camera, scene, renderer;

var gridHelper;

var mycube, plane;

var targetRotation = 0;
var targetRotationOnMouseDown = 0;

var mouseX = 0;
var mouseXOnMouseDown = 0;

var windowHalfX = window.innerWidth / 2;
var windowHalfY = window.innerHeight / 2;

var group;
var ground;
var params = { opacity: 0.5 };

init();
animate();


function init() {

	container = document.createElement( 'div' );
	document.body.appendChild( container );

	camera = new THREE.PerspectiveCamera( 70, window.innerWidth / window.innerHeight, 1, 1000 );
	camera.position.y = 15;
	camera.position.x = 50;
	camera.position.z = 50;
	camera.rotation.x = -0.30;
	var controls = new THREE.OrbitControls( camera );

	scene = new THREE.Scene();
	//scene.background = new THREE.Color( 0xf0f0f0 );

	startJimDoor();

	gridHelper = new THREE.GridHelper( 100, 22 );
	scene.add( gridHelper );
	// Cube

ground = makeCube(100,0,70,0,0,0,new THREE.Color(0xffffff));


	var directionalLight1 = new THREE.DirectionalLight( 0xffffff );
	directionalLight1.position.x = 5;
	directionalLight1.position.y = 50;
	directionalLight1.position.z = 10;
	directionalLight1.shadowCameraLeft = -50;
	directionalLight1.shadowCameraRight = 50;
	directionalLight1.shadowCameraTop = 50;
	directionalLight1.shadowCameraBottom = -50;
	directionalLight1.position.normalize();
	directionalLight1.castShadow = true;    
	
	group = new THREE.Group();
	group.add(directionalLight1);
	scene.add(group);

	var helper = new THREE.CameraHelper( directionalLight1.shadow.camera );
	scene.add( helper );


	renderer = new THREE.WebGLRenderer();
	//renderer = new THREE.CanvasRenderer();

	renderer.shadowMap.enabled = true;
	renderer.shadowMap.type = THREE.PCFSoftShadowMap; // default THREE.PCFShadowMap
	renderer.setPixelRatio( window.devicePixelRatio );
	renderer.setSize( window.innerWidth, window.innerHeight );
	container.appendChild( renderer.domElement );

	stats = new Stats();
	container.appendChild( stats.dom );
}

function makeCube(sizeX, sizeY, sizeZ, posX, posY, posZ, colorBox)
{

	var material = new THREE.MeshStandardMaterial();
	material.color = colorBox;

	var geometry = new THREE.BoxGeometry(sizeX, sizeY, sizeZ);
	var cube = new THREE.Mesh( geometry, material );
	cube.position.y = posY;
	cube.position.x = posX;
	cube.position.z = posZ;

	cube.castShadow = true; //default is false
	cube.receiveShadow = true; //default
	cube.matrixAutoUpdate = false;
	cube.updateMatrix();
	scene.add(cube);
	return cube;
}

</script>
</body>
</html>